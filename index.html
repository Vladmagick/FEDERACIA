<!DOCTYPE html> 
<html lang="ru"> 
<head> 
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<title>ФЕДЕРАЦИЯ</title> 
 
<script src="https://telegram.org/js/telegram-web-app.js"></script> 
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet"> 
 
<style> 
*{margin:0;padding:0;box-sizing:border-box} 
body{ 
    font-family:'Inter',sans-serif; 
    background:linear-gradient(180deg,#0f172a,#0e1117); 
    color:#fff; 
    min-height:100vh; 
    overflow-x:hidden; 
} 
.app{ 
    max-width:430px; 
    margin:0 auto; 
    padding:20px 16px 100px; 
} 
h1{ 
    font-size:22px; 
    font-weight:600; 
    margin-bottom:20px; 
} 
.card{ 
    background:rgba(255,255,255,0.05); 
    backdrop-filter:blur(25px); 
    border-radius:22px; 
    padding:18px; 
    margin-bottom:16px; 
    box-shadow:0 15px 40px rgba(0,0,0,0.4); 
    transition:0.25s; 
} 
.card:active{transform:scale(0.97)} 
.section-title{font-size:13px;opacity:0.7;margin-bottom:8px} 
.balance{font-size:26px;font-weight:700;margin-top:5px} 
 
canvas{width:100%;height:180px} 
 
.status-row{ 
    display:flex; 
    justify-content:space-between; 
    font-size:13px; 
    margin-top:10px; 
} 
.green{color:#00ff9d} 
.orange{color:#ff9d00} 
.red{color:#ff4d4d} 
 
button{ 
    background:rgba(255,255,255,0.08); 
    border:none; 
    border-radius:18px; 
    padding:12px; 
    color:#fff; 
    width:100%; 
    margin-top:12px; 
    transition:0.2s; 
} 
button:active{transform:scale(0.96)} 
 
.hidden{display:none} 
 
.bottom-nav{ 
    position:fixed; 
    bottom:0; 
    left:0; 
    right:0; 
    max-width:430px; 
    margin:0 auto; 
    background:rgba(15,23,42,0.95); 
    backdrop-filter:blur(20px); 
    display:flex; 
    justify-content:space-around; 
    padding:14px 0; 
    border-top:1px solid rgba(255,255,255,0.05); 
} 
.nav-item{ 
    text-align:center; 
    font-size:11px; 
    opacity:0.6; 
    transition:0.3s; 
} 
.nav-item.active{ 
    opacity:1; 
    color:#00ff9d; 
} 
 
.roadmap{ 
    display:flex; 
    overflow-x:auto; 
    gap:12px; 
} 
.stage{ 
    min-width:160px; 
    background:rgba(255,255,255,0.06); 
    padding:14px; 
    border-radius:18px; 
    font-size:12px; 
} 
 
input,textarea{ 
    width:100%; 
    margin-top:8px; 
    padding:10px; 
    border-radius:12px; 
    border:none; 
    background:rgba(255,255,255,0.06); 
    color:#fff; 
} 
textarea{resize:none;height:80px} 
</style> 
</head> 
 
<body> 
<div class="app"> 
 
<!-- ГЛАВНАЯ --> 
<div id="home"> 
<h1>ФЕДЕРАЦИЯ</h1> 
 
<div class="card"> 
<div class="section-title">Финансы — этот месяц</div> 
<canvas id="financeChart"></canvas> 
<div class="status-row"> 
<span class="green">Доход</span> 
<span class="red">Расход</span> 
<span class="orange">Прибыль</span> 
</div> 
</div> 
 
<div class="card"> 
<div class="section-title">Краткая сводка</div> 
<div>Объекты в работе: <span class="orange">3</span></div> 
<div>Завершено: <span class="green">5</span></div> 
<div>Задержки: <span class="red">1</span></div> 
</div> 
</div> 
 
<!-- ФИНАНСЫ --> 
<div id="finance" class="hidden"> 
<h1>Финансы</h1> 
<div class="card"> 
<input type="number" id="income" placeholder="Доход"> 
<input type="number" id="expense" placeholder="Расход"> 
<button onclick="saveFinance()">Сохранить</button> 
</div> 
</div> 
 
<!-- ОБЪЕКТЫ --> 
<div id="objects" class="hidden"> 
<h1>Объекты</h1> 
<div class="card"> 
<textarea id="objectText" placeholder="Добавить объект..."></textarea> 
<button onclick="addObject()">Добавить</button> 
</div> 
<div id="objectList"></div> 
</div> 
 
<!-- ROADMAP --> 
<div id="roadmap" class="hidden"> 
<h1>Дорожная карта</h1> 
<div class="roadmap"> 
<div class="stage">Выход на объект</div> 
<div class="stage">Переговоры</div> 
<div class="stage">Согласование</div> 
<div class="stage">Договор подписан</div> 
<div class="stage">Начало работ</div> 
<div class="stage">КС-2 / КС-3</div> 
<div class="stage">Сдача объекта</div> 
</div> 
</div> 
 
<!-- ПРОФИЛЬ --> 
<div id="profile" class="hidden"> 
<h1>Профиль</h1> 
<div class="card"> 
<div id="userInfo">Загрузка...</div> 
</div> 
</div> 
 
</div> 
 
<div class="bottom-nav"> 
<div class="nav-item active" onclick="switchTab('home',this)">Главная</div> 
<div class="nav-item" onclick="switchTab('finance',this)">Финансы</div> 
<div class="nav-item" onclick="switchTab('objects',this)">Объекты</div> 
<div class="nav-item" onclick="switchTab('roadmap',this)">Roadmap</div> 
<div class="nav-item" onclick="switchTab('profile',this)">Профиль</div> 
</div> 
 
<script> 
// Telegram Init 
const tg = window.Telegram.WebApp; 
tg.expand(); 
tg.ready(); 
 
const user = tg.initDataUnsafe?.user; 
if(user){ 
document.getElementById("userInfo").innerHTML = 
"ID: "+user.id+"<br>"+user.first_name; 
} 
 
// Navigation 
function switchTab(id,el){ 
document.querySelectorAll(".app > div").forEach(d=>d.classList.add("hidden")); 
document.getElementById(id).classList.remove("hidden"); 
document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active")); 
el.classList.add("active"); 
} 
 
// Finance Storage 
function saveFinance(){ 
localStorage.setItem("income",document.getElementById("income").value); 
localStorage.setItem("expense",document.getElementById("expense").value); 
drawChart(); 
} 
 
// Objects 
function addObject(){ 
let text=document.getElementById("objectText").value; 
if(!text)return; 
let list=document.getElementById("objectList"); 
let div=document.createElement("div"); 
div.className="card"; 
div.innerText=text; 
list.appendChild(div); 
document.getElementById("objectText").value=""; 
} 
 
// Finance Chart 
function drawChart(){ 
const canvas=document.getElementById("financeChart"); 
const ctx=canvas.getContext("2d"); 
canvas.width=350; 
canvas.height=180; 
 
let income=parseFloat(localStorage.getItem("income"))||1000000; 
let expense=parseFloat(localStorage.getItem("expense"))||600000; 
let profit=income-expense; 
 
let total=income; 
let percent=(expense/total)*180; 
 
ctx.clearRect(0,0,canvas.width,canvas.height); 
 
ctx.beginPath(); 
ctx.arc(175,170,150,Math.PI,Math.PI+(percent*Math.PI/180)); 
ctx.lineWidth=20; 
ctx.strokeStyle="#ff4d4d"; 
ctx.stroke(); 
 
ctx.beginPath(); 
ctx.arc(175,170,150,Math.PI+(percent*Math.PI/180),2*Math.PI); 
ctx.lineWidth=20; 
ctx.strokeStyle="#00ff9d"; 
ctx.stroke(); 
} 
drawChart(); 
</script> 
 
</body> 
</html> 
 
