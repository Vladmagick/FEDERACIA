<!DOCTYPE html> 
<html lang="ru"> 
<head> 
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<title>ФЕДЕРАЦИЯ</title> 
 
<style> 
body{ 
margin:0; 
font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto; 
background:#0b0f17; 
color:#eaf0ff; 
} 
header{ 
padding:20px; 
text-align:center; 
font-size:22px; 
font-weight:600; 
} 
.container{padding:20px;margin-bottom:90px;} 
.card{ 
background:rgba(255,255,255,0.05); 
padding:16px; 
border-radius:18px; 
margin-bottom:16px; 
backdrop-filter:blur(10px); 
} 
input,select,button,textarea{ 
width:100%; 
padding:10px; 
border-radius:12px; 
border:none; 
margin-top:8px; 
background:#111827; 
color:white; 
} 
button{background:#2563eb;font-weight:600;cursor:pointer;} 
canvas{display:block;margin:auto;cursor:pointer;} 
.bottom-nav{ 
position:fixed; 
bottom:0;left:0;right:0; 
background:#0f172a; 
display:flex; 
justify-content:space-around; 
padding:14px 0; 
border-top:1px solid rgba(255,255,255,0.1); 
} 
.bottom-nav div{font-size:12px;text-align:center;cursor:pointer;} 
.roadmap{display:flex;overflow-x:auto;gap:12px;margin-top:10px;} 
.stage{ 
min-width:160px; 
padding:12px; 
border-radius:16px; 
background:rgba(255,255,255,0.07); 
font-size:12px; 
} 
.stage.done{background:#14532d;} 
.stage.active{background:#1e3a8a;} 
.hidden{display:none;} 
.small{font-size:12px;color:#9ca3af;} 
h3{margin-top:0;} 
</style> 
</head> 
 
<body> 
 
<header>ФЕДЕРАЦИЯ</header> 
 
<div class="container"> 
 
<div id="home"> 
 
<div class="card"> 
<h3>Этот месяц</h3> 
<canvas id="chart" width="300" height="180"></canvas> 
<p id="summary"></p> 
</div> 
 
<div class="card"> 
<h3>Краткая сводка</h3> 
<p id="stats"></p> 
</div> 
 
</div> 
 
<div id="objects" class="hidden"> 
<div class="card"> 
<h3>Объекты</h3> 
<input id="objectName" placeholder="Название объекта"> 
<input id="objectProfit" type="number" placeholder="Плановая прибыль"> 
<button onclick="addObject()">Добавить объект</button> 
<ul id="objectList"></ul> 
</div> 
</div> 
 
<div id="finance" class="hidden"> 
<div class="card"> 
<h3>Добавить операцию</h3> 
<select id="type"> 
<option value="income">Доход</option> 
<option value="expense">Расход</option> 
</select> 
<input type="number" id="amount" placeholder="Сумма"> 
<button onclick="addTransaction()">Добавить</button> 
</div> 
</div> 
 
<div id="calendar" class="hidden"> 
<div class="card"> 
<h3>Календарь</h3> 
<input type="date" id="eventDate"> 
<input type="text" id="eventText" placeholder="Событие"> 
<button onclick="addEvent()">Добавить</button> 
<ul id="eventList"></ul> 
</div> 
</div> 
 
<div id="more" class="hidden"> 
<div class="card"> 
<h3>Решение / Заметка</h3> 
<textarea id="decisionText" placeholder="Текст решения"></textarea> 
<button onclick="addDecision()">Сохранить</button> 
<ul id="decisionList"></ul> 
</div> 
</div> 
 
</div> 
 
<div class="bottom-nav"> 
<div onclick="showTab('home')">Главная</div> 
<div onclick="showTab('objects')">Объекты</div> 
<div onclick="showTab('calendar')">Календарь</div> 
<div onclick="showTab('finance')">Финансы</div> 
<div onclick="showTab('more')">Ещё</div> 
</div> 
 
<script> 
 
let transactions=JSON.parse(localStorage.getItem("transactions"))||[]; 
let objects=JSON.parse(localStorage.getItem("objects"))||[]; 
let events=JSON.parse(localStorage.getItem("events"))||[]; 
let decisions=JSON.parse(localStorage.getItem("decisions"))||[]; 
 
function saveAll(){ 
localStorage.setItem("transactions",JSON.stringify(transactions)); 
localStorage.setItem("objects",JSON.stringify(objects)); 
localStorage.setItem("events",JSON.stringify(events)); 
localStorage.setItem("decisions",JSON.stringify(decisions)); 
} 
 
function showTab(id){ 
['home','objects','finance','calendar','more'].forEach(t=>{ 
document.getElementById(t).classList.add('hidden'); 
}); 
document.getElementById(id).classList.remove('hidden'); 
} 
 
function addTransaction(){ 
let type=document.getElementById("type").value; 
let amount=parseFloat(document.getElementById("amount").value); 
if(!amount)return; 
transactions.push({type,amount}); 
saveAll(); 
drawChart(); 
updateStats(); 
} 
 
function addObject(){ 
let name=document.getElementById("objectName").value; 
let profit=parseFloat(document.getElementById("objectProfit").value)||0; 
if(!name)return; 
objects.push({name,profit}); 
saveAll(); 
renderObjects(); 
updateStats(); 
} 
 
function addEvent(){ 
let date=document.getElementById("eventDate").value; 
let text=document.getElementById("eventText").value; 
if(!date||!text)return; 
events.push({date,text}); 
saveAll(); 
renderEvents(); 
} 
 
function addDecision(){ 
let text=document.getElementById("decisionText").value; 
if(!text)return; 
decisions.push(text); 
saveAll(); 
renderDecisions(); 
} 
 
function renderObjects(){ 
let list=document.getElementById("objectList"); 
list.innerHTML=""; 
objects.forEach(o=>{ 
let li=document.createElement("li"); 
li.innerHTML=o.name+" — "+o.profit+" ₽"; 
list.appendChild(li); 
}); 
} 
 
function renderEvents(){ 
let list=document.getElementById("eventList"); 
list.innerHTML=""; 
events.forEach(e=>{ 
let li=document.createElement("li"); 
li.innerHTML=e.date+" — "+e.text; 
list.appendChild(li); 
}); 
} 
 
function renderDecisions(){ 
let list=document.getElementById("decisionList"); 
list.innerHTML=""; 
decisions.forEach(d=>{ 
let li=document.createElement("li"); 
li.innerHTML=d; 
list.appendChild(li); 
}); 
} 
 
function drawChart(){ 
let canvas=document.getElementById("chart"); 
let ctx=canvas.getContext("2d"); 
ctx.clearRect(0,0,300,180); 
 
let income=transactions.filter(t=>t.type==="income").reduce((a,b)=>a+b.amount,0); 
let expense=transactions.filter(t=>t.type==="expense").reduce((a,b)=>a+b.amount,0); 
let profit=income-expense; 
 
let total=income+expense||1; 
let incomeAngle=(income/total)*Math.PI; 
 
ctx.lineWidth=22; 
 
ctx.beginPath(); 
ctx.arc(150,150,90,Math.PI,Math.PI+incomeAngle); 
ctx.strokeStyle="#22c55e"; 
ctx.stroke(); 
 
ctx.beginPath(); 
ctx.arc(150,150,90,Math.PI+incomeAngle,Math.PI*2); 
ctx.strokeStyle="#ef4444"; 
ctx.stroke(); 
 
canvas.onclick=function(){ 
alert("Доход: "+Math.round(income/total*100)+"%\nРасход: "+Math.round(expense/total*100)+"%"); 
} 
 
document.getElementById("summary").innerHTML="Доход: "+income+" ₽ | Расход: "+expense+" ₽ | Прибыль: "+profit+" ₽"; 
} 
 
function updateStats(){ 
let active=objects.length; 
let income=transactions.filter(t=>t.type==="income").reduce((a,b)=>a+b.amount,0); 
let expense=transactions.filter(t=>t.type==="expense").reduce((a,b)=>a+b.amount,0); 
document.getElementById("stats").innerHTML= 
"Активных объектов: "+active+"<br>"+ 
"Доход всего: "+income+" ₽<br>"+ 
"Расход всего: "+expense+" ₽"; 
} 
 
renderObjects(); 
renderEvents(); 
renderDecisions(); 
drawChart(); 
updateStats(); 
 
</script> 
 
</body> 
</html> 
 